(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/profile/profile"],{"0801":function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},a=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return a})},"406e":function(e,o,t){"use strict";t.r(o);var n=t("0801"),a=t("45a7");for(var r in a)"default"!==r&&function(e){t.d(o,e,function(){return a[e]})}(r);t("8e51");var l=t("2877"),i=Object(l["a"])(a["default"],n["a"],n["b"],!1,null,null,null);o["default"]=i.exports},"45a7":function(e,o,t){"use strict";t.r(o);var n=t("a7b1"),a=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(o,e,function(){return n[e]})}(r);o["default"]=a.a},"8e51":function(e,o,t){"use strict";var n=t("cbbf"),a=t.n(n);a.a},"9b34":function(e,o,t){"use strict";(function(e){t("28b5"),t("921b");n(t("66fd"));var o=n(t("406e"));function n(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,t("6e42")["createPage"])},a7b1:function(e,o,t){"use strict";(function(e,t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={data:function(){return{faceUrl:"../../static/icons/profilePic.png",src:"",history:"Watch history",userInfo:{username:"Please login"}}},onLoad:function(o){e.setNavigationBarTitle({title:"Profile"})},onShow:function(){var e=this.getGlobalUserInfo();this.queryUserInfo(e),this.goToPageRec()},methods:{upload:function(){var o=this.getGlobalUserInfo();null!=o&&void 0!=o&&""!=o?e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(o){console.log(t(o," at pages/profile/profile.vue:97"));var n=o.tempFilePaths[0];console.log(t("src="+n," at pages/profile/profile.vue:100")),e.redirectTo({url:"../upload/upload?src="+n})}}):e.navigateTo({url:"../login/login"})},logout:function(){var o=this.getGlobalUserInfo();if(null!=o&&void 0!=o&&""!=o){var n=this;e.request({url:n.$serverUrl+"/logout",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{userId:o.id},success:function(o){console.log(t(o.data," at pages/profile/profile.vue:128"));var a=o.data.status;200==a?(e.showToast({icon:"none",title:"Logout"}),n.removeGlobalUserInfo(),console.log(t("logout: userInfo.id="+n.getGlobalUserInfo.id," at pages/profile/profile.vue:136")),console.log(t("logout: userInfo.userToken="+n.getGlobalUserInfo.userToken," at pages/profile/profile.vue:137")),e.navigateTo({url:"../login/login"})):500==a&&e.showToast({icon:"none",title:o.data.msg})}})}else e.redirectTo({url:"../login/login"})},queryUserInfo:function(o){e.showLoading({title:"Loding..."});var n=this;e.request({url:n.$serverUrl+"/user/query?userId="+o.id,method:"POST",header:{"content-type":"application/x-www-form-urlencoded",userId:o.id,userToken:o.userToken},success:function(o){e.hideLoading(),console.log(t(o.data," at pages/profile/profile.vue:167"));var a=o.data.status;if(200==a){e.hideLoading();var r=o.data.data;n.userInfo=r,null!=r.faceImage&&(n.faceUrl=n.$serverUrl+r.faceImage)}else 502==a&&e.showToast({icon:"none",title:o.data.msg})}})}}};o.default=n}).call(this,t("6e42")["default"],t("0de9")["default"])},cbbf:function(e,o,t){}},[["9b34","common/runtime","common/vendor"]]]);